{"ast":null,"code":"var _jsxFileName = \"/Users/jasonlin/Desktop/fitzi2.0/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ObjViewerApp() {\n  _s();\n  const mountRef = useRef(null);\n  const sceneRef = useRef(new THREE.Scene()); // Using refs to hold the Three.js objects\n\n  useEffect(() => {\n    const scene = sceneRef.current; // Accessing the scene from the ref\n    scene.background = new THREE.Color(0x8FBCD4); // A pleasant sky color\n\n    // Setup camera\n    const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(0, 20, 100);\n\n    // Setup renderer\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    mountRef.current.appendChild(renderer.domElement);\n\n    // Setup lights\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n    hemiLight.position.set(0, 20, 0);\n    scene.add(hemiLight);\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(-3, 10, -10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 2;\n    dirLight.shadow.camera.bottom = -2;\n    dirLight.shadow.camera.left = -2;\n    dirLight.shadow.camera.right = 2;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    scene.add(dirLight);\n\n    // Setup controls\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.target.set(0, 5, 0);\n    controls.update();\n    const animate = () => {\n      requestAnimationFrame(animate);\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Handle window resizing\n    const onWindowResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', onWindowResize, false);\n    return () => {\n      window.removeEventListener('resize', onWindowResize);\n      mountRef.current.removeChild(renderer.domElement);\n    };\n  }, []);\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        const objLoader = new OBJLoader();\n        objLoader.parse(e.target.result, object => {\n          const scene = sceneRef.current;\n          scene.add(object);\n          object.position.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n        });\n      };\n      reader.readAsText(file);\n    }\n  };\n  const handleClickUpload = () => {\n    fileInputRef.current.click(); // Trigger the hidden file input click\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      onChange: handleFileChange,\n      accept: \".obj\",\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClickUpload,\n      children: \"Upload OBJ File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      style: {\n        width: '100vw',\n        height: '100vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(ObjViewerApp, \"fTngvglZ51/ZfcBvyjlXBMMFK9c=\");\n_c = ObjViewerApp;\nexport default ObjViewerApp;\nvar _c;\n$RefreshReg$(_c, \"ObjViewerApp\");","map":{"version":3,"names":["React","useEffect","useRef","THREE","OBJLoader","OrbitControls","jsxDEV","_jsxDEV","ObjViewerApp","_s","mountRef","sceneRef","Scene","scene","current","background","Color","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","antialias","setSize","setPixelRatio","devicePixelRatio","shadowMap","enabled","type","PCFSoftShadowMap","appendChild","domElement","hemiLight","HemisphereLight","add","dirLight","DirectionalLight","castShadow","shadow","top","bottom","left","right","near","far","controls","target","update","animate","requestAnimationFrame","render","onWindowResize","aspect","updateProjectionMatrix","addEventListener","removeEventListener","removeChild","handleFileChange","event","file","files","reader","FileReader","onload","e","objLoader","parse","result","object","scale","readAsText","handleClickUpload","fileInputRef","click","children","ref","onChange","accept","style","display","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","_c","$RefreshReg$"],"sources":["/Users/jasonlin/Desktop/fitzi2.0/src/App.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nfunction ObjViewerApp() {\n  const mountRef = useRef(null);\n  const sceneRef = useRef(new THREE.Scene()); // Using refs to hold the Three.js objects\n\n  useEffect(() => {\n    const scene = sceneRef.current; // Accessing the scene from the ref\n    scene.background = new THREE.Color(0x8FBCD4); // A pleasant sky color\n\n    // Setup camera\n    const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(0, 20, 100);\n\n    // Setup renderer\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    mountRef.current.appendChild(renderer.domElement);\n\n    // Setup lights\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n    hemiLight.position.set(0, 20, 0);\n    scene.add(hemiLight);\n\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(-3, 10, -10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 2;\n    dirLight.shadow.camera.bottom = -2;\n    dirLight.shadow.camera.left = -2;\n    dirLight.shadow.camera.right = 2;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    scene.add(dirLight);\n\n    // Setup controls\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.target.set(0, 5, 0);\n    controls.update();\n\n    const animate = () => {\n      requestAnimationFrame(animate);\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    // Handle window resizing\n    const onWindowResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', onWindowResize, false);\n\n    return () => {\n      window.removeEventListener('resize', onWindowResize);\n      mountRef.current.removeChild(renderer.domElement);\n    };\n  }, []);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        const objLoader = new OBJLoader();\n        objLoader.parse(e.target.result, (object) => {\n          const scene = sceneRef.current;\n          scene.add(object);\n          object.position.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n        });\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleClickUpload = () => {\n    fileInputRef.current.click(); // Trigger the hidden file input click\n  };\n\n  return (\n    <div>\n      {/* Hidden file input */}\n      <input \n        type=\"file\" \n        ref={fileInputRef} \n        onChange={handleFileChange} \n        accept=\".obj\" \n        style={{ display: 'none' }} \n      />\n      \n      {/* Custom upload button */}\n      <button onClick={handleClickUpload}>Upload OBJ File</button>\n\n      <div ref={mountRef} style={{ width: '100vw', height: '100vh' }}></div>\n    </div>\n  );\n}\n\nexport default ObjViewerApp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}