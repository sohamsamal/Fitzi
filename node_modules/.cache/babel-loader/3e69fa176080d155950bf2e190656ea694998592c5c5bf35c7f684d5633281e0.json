{"ast":null,"code":"var _jsxFileName = \"/Users/jasonlin/Desktop/fitzi2.0/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OBJViewerTest() {\n  _s();\n  const [objFile, setObjFile] = useState(null);\n  const [textureFile, setTextureFile] = useState(null);\n  const viewerRef = useRef(null);\n  useEffect(() => {\n    if (objFile && textureFile) {\n      initThreeScene();\n    }\n  }, [objFile, textureFile]);\n  const handleObjFileChange = event => {\n    setObjFile(event.target.files[0]);\n  };\n  const handleTextureFileChange = event => {\n    setTextureFile(event.target.files[0]);\n  };\n  const initThreeScene = () => {\n    const scene = new THREE.Scene();\n    scene.background = new THREE.Color(0xaaaaaa);\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.z = 5;\n    const renderer = new THREE.WebGLRenderer();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    viewerRef.current.innerHTML = ''; // Clear the container\n    viewerRef.current.appendChild(renderer.domElement);\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.update();\n    const ambientLight = new THREE.AmbientLight(0x404040);\n    scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n    directionalLight.position.set(0, 1, 1);\n    scene.add(directionalLight);\n    const objLoader = new OBJLoader();\n    const reader = new FileReader();\n    reader.readAsDataURL(objFile);\n    reader.onload = () => {\n      objLoader.load(reader.result, object => {\n        const textureLoader = new THREE.TextureLoader();\n        const readerTexture = new FileReader();\n        readerTexture.readAsDataURL(textureFile);\n        readerTexture.onload = () => {\n          const texture = textureLoader.load(readerTexture.result);\n          object.traverse(child => {\n            if (child.isMesh) {\n              child.material.map = texture;\n            }\n          });\n          scene.add(object);\n          animate();\n        };\n      });\n    };\n    function animate() {\n      requestAnimationFrame(animate);\n      controls.update();\n      renderer.render(scene, camera);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleObjFileChange,\n      accept: \".obj\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleTextureFileChange,\n      accept: \"image/*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: viewerRef,\n      style: {\n        width: '100vw',\n        height: '100vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(OBJViewerTest, \"xyiIFRbj6Yc1WKDnmCI3B4vc78g=\");\n_c = OBJViewerTest;\nexport default OBJViewerTest;\nvar _c;\n$RefreshReg$(_c, \"OBJViewerTest\");","map":{"version":3,"names":["React","useState","useEffect","useRef","THREE","OBJLoader","OrbitControls","jsxDEV","_jsxDEV","OBJViewerTest","_s","objFile","setObjFile","textureFile","setTextureFile","viewerRef","initThreeScene","handleObjFileChange","event","target","files","handleTextureFileChange","scene","Scene","background","Color","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","z","renderer","WebGLRenderer","setSize","current","innerHTML","appendChild","domElement","controls","update","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","set","objLoader","reader","FileReader","readAsDataURL","onload","load","result","object","textureLoader","TextureLoader","readerTexture","texture","traverse","child","isMesh","material","map","animate","requestAnimationFrame","render","children","type","onChange","accept","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","width","height","_c","$RefreshReg$"],"sources":["/Users/jasonlin/Desktop/fitzi2.0/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nfunction OBJViewerTest() {\n    const [objFile, setObjFile] = useState(null);\n    const [textureFile, setTextureFile] = useState(null);\n    const viewerRef = useRef(null);\n\n    useEffect(() => {\n        if (objFile && textureFile) {\n            initThreeScene();\n        }\n    }, [objFile, textureFile]);\n\n    const handleObjFileChange = (event) => {\n        setObjFile(event.target.files[0]);\n    };\n\n    const handleTextureFileChange = (event) => {\n        setTextureFile(event.target.files[0]);\n    };\n\n    const initThreeScene = () => {\n        const scene = new THREE.Scene();\n        scene.background = new THREE.Color(0xaaaaaa);\n\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        camera.position.z = 5;\n\n        const renderer = new THREE.WebGLRenderer();\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        viewerRef.current.innerHTML = ''; // Clear the container\n        viewerRef.current.appendChild(renderer.domElement);\n\n        const controls = new OrbitControls(camera, renderer.domElement);\n        controls.update();\n\n        const ambientLight = new THREE.AmbientLight(0x404040);\n        scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n        directionalLight.position.set(0, 1, 1);\n        scene.add(directionalLight);\n\n        const objLoader = new OBJLoader();\n        const reader = new FileReader();\n        \n        reader.readAsDataURL(objFile);\n        reader.onload = () => {\n            objLoader.load(reader.result, (object) => {\n                const textureLoader = new THREE.TextureLoader();\n                const readerTexture = new FileReader();\n\n                readerTexture.readAsDataURL(textureFile);\n                readerTexture.onload = () => {\n                    const texture = textureLoader.load(readerTexture.result);\n                    object.traverse((child) => {\n                        if (child.isMesh) {\n                            child.material.map = texture;\n                        }\n                    });\n\n                    scene.add(object);\n                    animate();\n                };\n            });\n        };\n\n        function animate() {\n            requestAnimationFrame(animate);\n            controls.update();\n            renderer.render(scene, camera);\n        }\n    };\n\n    return (\n        <div>\n            <input type=\"file\" onChange={handleObjFileChange} accept=\".obj\" />\n            <input type=\"file\" onChange={handleTextureFileChange} accept=\"image/*\" />\n            <div ref={viewerRef} style={{ width: '100vw', height: '100vh' }}></div>\n        </div>\n    );\n}\n\nexport default OBJViewerTest;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}