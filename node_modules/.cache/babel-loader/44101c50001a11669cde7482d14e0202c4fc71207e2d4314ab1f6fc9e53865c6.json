{"ast":null,"code":"var _jsxFileName = \"/Users/jasonlin/Desktop/fitzi2.0/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ObjViewerApp() {\n  _s();\n  const mountRef = useRef(null);\n  const sceneRef = useRef(new THREE.Scene());\n  const fileInputRef = useRef(null); // Correctly define fileInputRef here\n\n  useEffect(() => {\n    const scene = sceneRef.current;\n    scene.background = new THREE.Color(0x8FBCD4);\n    const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(0, 20, 100);\n    const renderer = new THREE.WebGLRenderer({\n      antialias: true\n    });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    mountRef.current.appendChild(renderer.domElement);\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n    hemiLight.position.set(0, 20, 0);\n    scene.add(hemiLight);\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(-3, 10, -10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 2;\n    dirLight.shadow.camera.bottom = -2;\n    dirLight.shadow.camera.left = -2;\n    dirLight.shadow.camera.right = 2;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    scene.add(dirLight);\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.update();\n    const animate = () => {\n      requestAnimationFrame(animate);\n      renderer.render(scene, camera);\n    };\n    animate();\n    const onWindowResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', onWindowResize, false);\n    return () => {\n      window.removeEventListener('resize', onWindowResize);\n      mountRef.current.removeChild(renderer.domElement);\n    };\n  }, []);\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        const objLoader = new OBJLoader();\n        objLoader.parse(e.target.result, object => {\n          const scene = sceneRef.current;\n          scene.add(object);\n          object.position.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n        });\n      };\n      reader.readAsText(file);\n    }\n  };\n  const handleClickUpload = () => {\n    fileInputRef.current.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      onChange: handleFileChange,\n      accept: \".obj\",\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClickUpload,\n      children: \"Upload OBJ File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      style: {\n        width: '100vw',\n        height: '100vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(ObjViewerApp, \"5btcmryETYu3Ytl12Q8rpQdqvBU=\");\n_c = ObjViewerApp;\nexport default ObjViewerApp;\nvar _c;\n$RefreshReg$(_c, \"ObjViewerApp\");","map":{"version":3,"names":["React","useEffect","useRef","THREE","OBJLoader","OrbitControls","jsxDEV","_jsxDEV","ObjViewerApp","_s","mountRef","sceneRef","Scene","fileInputRef","scene","current","background","Color","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","antialias","setSize","setPixelRatio","devicePixelRatio","shadowMap","enabled","type","PCFSoftShadowMap","appendChild","domElement","hemiLight","HemisphereLight","add","dirLight","DirectionalLight","castShadow","shadow","top","bottom","left","right","near","far","controls","update","animate","requestAnimationFrame","render","onWindowResize","aspect","updateProjectionMatrix","addEventListener","removeEventListener","removeChild","handleFileChange","event","file","target","files","reader","FileReader","onload","e","objLoader","parse","result","object","scale","readAsText","handleClickUpload","click","children","ref","onChange","accept","style","display","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","_c","$RefreshReg$"],"sources":["/Users/jasonlin/Desktop/fitzi2.0/src/App.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nfunction ObjViewerApp() {\n  const mountRef = useRef(null);\n  const sceneRef = useRef(new THREE.Scene());\n  const fileInputRef = useRef(null); // Correctly define fileInputRef here\n\n  useEffect(() => {\n    const scene = sceneRef.current;\n    scene.background = new THREE.Color(0x8FBCD4);\n\n    const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.set(0, 20, 100);\n\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.shadowMap.enabled = true;\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n    mountRef.current.appendChild(renderer.domElement);\n\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);\n    hemiLight.position.set(0, 20, 0);\n    scene.add(hemiLight);\n\n    const dirLight = new THREE.DirectionalLight(0xffffff);\n    dirLight.position.set(-3, 10, -10);\n    dirLight.castShadow = true;\n    dirLight.shadow.camera.top = 2;\n    dirLight.shadow.camera.bottom = -2;\n    dirLight.shadow.camera.left = -2;\n    dirLight.shadow.camera.right = 2;\n    dirLight.shadow.camera.near = 0.1;\n    dirLight.shadow.camera.far = 40;\n    scene.add(dirLight);\n\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.update();\n\n    const animate = () => {\n      requestAnimationFrame(animate);\n      renderer.render(scene, camera);\n    };\n    animate();\n\n    const onWindowResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', onWindowResize, false);\n\n    return () => {\n      window.removeEventListener('resize', onWindowResize);\n      mountRef.current.removeChild(renderer.domElement);\n    };\n  }, []);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        const objLoader = new OBJLoader();\n        objLoader.parse(e.target.result, (object) => {\n          const scene = sceneRef.current;\n          scene.add(object);\n          object.position.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n        });\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleClickUpload = () => {\n    fileInputRef.current.click();\n  };\n\n  return (\n    <div>\n      <input \n        type=\"file\" \n        ref={fileInputRef} \n        onChange={handleFileChange} \n        accept=\".obj\" \n        style={{ display: 'none' }} \n      />\n      <button onClick={handleClickUpload}>Upload OBJ File</button>\n      <div ref={mountRef} style={{ width: '100vw', height: '100vh' }}></div>\n    </div>\n  );\n}\n\nexport default ObjViewerApp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}